---
updateTime: "2024-11-2 09:30"
desc: "关于微前端--我的理解"
tags: "微前端"
outline: deep
---


微前端架构图：
![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3aeeb29a523d44da846a199d96fd37a6~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?)


# Why Not Iframe
iframe 最大的特性就是提供了浏览器原生的硬隔离方案，不论是样式隔离、js 隔离这类问题统统都能被完美解决。但他的最大问题也在于他的隔离性无法被突破，导致应用间上下文无法被共享，随之带来的开发体验、产品体验的问题。
1. url 不同步。浏览器刷新 iframe url 状态丢失、后退前进按钮无法使用。
2. UI 不同步，DOM 结构不共享。想象一下屏幕右下角 1/4 的 iframe 里来一个带遮罩层的弹框，同时我们要求这个弹框要浏览器居中显示，还要浏览器 resize 时自动居中..
3. 全局上下文完全隔离，内存变量不共享。iframe 内外系统的通信、数据同步等需求，主应用的 cookie 要透传到根域名都不同的子应用中实现免登效果。
4. 慢。每次子应用进入都是一次浏览器上下文重建、资源重新加载的过程。



微前端的核心：
- 技术栈无关
- 独立开发、独立运行、独立部署
- 应用间状态隔离
- 主应用可以控制子应用的生命周期
    
