---
title: "ğŸŒˆ æ·»åŠ äº¤äº’"
desc: "Props"
tags: "React"
outline: deep
---

# å“åº”äº‹ä»¶ï¼ˆäº‹ä»¶å¤„ç†å‡½æ•°ï¼‰
- å¯ä»¥é€šè¿‡å°†å‡½æ•°ä½œä¸º prop ä¼ é€’ç»™å…ƒç´ å¦‚Â `<button>`Â æ¥å¤„ç†äº‹ä»¶ã€‚
- å¿…é¡»ä¼ é€’äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œ**è€Œéå‡½æ•°è°ƒç”¨ï¼**Â `onClick={handleClick}`Â ï¼Œä¸æ˜¯Â `onClick={handleClick()}`ã€‚
- å¯ä»¥å•ç‹¬æˆ–è€…å†…è”å®šä¹‰äº‹ä»¶å¤„ç†å‡½æ•°ã€‚
- äº‹ä»¶å¤„ç†å‡½æ•°åœ¨ç»„ä»¶å†…éƒ¨å®šä¹‰ï¼Œæ‰€ä»¥å®ƒä»¬å¯ä»¥è®¿é—® propsã€‚
- å¯ä»¥åœ¨çˆ¶ç»„ä»¶ä¸­å®šä¹‰ä¸€ä¸ªäº‹ä»¶å¤„ç†å‡½æ•°ï¼Œå¹¶å°†å…¶ä½œä¸º prop ä¼ é€’ç»™å­ç»„ä»¶ã€‚
- å¯ä»¥æ ¹æ®ç‰¹å®šäºåº”ç”¨ç¨‹åºçš„åç§°å®šä¹‰äº‹ä»¶å¤„ç†å‡½æ•°çš„ propã€‚
- äº‹ä»¶ä¼šå‘ä¸Šä¼ æ’­ã€‚é€šè¿‡äº‹ä»¶çš„ç¬¬ä¸€ä¸ªå‚æ•°è°ƒç”¨Â `e.stopPropagation()`Â æ¥é˜²æ­¢è¿™ç§æƒ…å†µã€‚
- äº‹ä»¶å¯èƒ½å…·æœ‰ä¸éœ€è¦çš„æµè§ˆå™¨é»˜è®¤è¡Œä¸ºã€‚è°ƒç”¨Â `e.preventDefault()`Â æ¥é˜»æ­¢è¿™ç§æƒ…å†µã€‚
- ä»å­ç»„ä»¶æ˜¾å¼è°ƒç”¨äº‹ä»¶å¤„ç†å‡½æ•° prop æ˜¯äº‹ä»¶ä¼ æ’­çš„å¦ä¸€ç§ä¼˜ç§€æ›¿ä»£æ–¹æ¡ˆã€‚

# 1.æ·»åŠ äº‹ä»¶å¤„ç†å‡½æ•°ï¼š
äº‹ä»¶å¤„ç†å‡½æ•°ï¼ˆè‡ªå®šä¹‰å‡½æ•°ï¼‰ï¼šåœ¨å“åº”äº¤äº’ï¼ˆå¦‚ç‚¹å‡»ã€æ‚¬åœã€è¡¨å•è¾“å…¥æ¡†è·å¾—ç„¦ç‚¹ç­‰ï¼‰æ—¶è§¦å‘ã€‚

> é€šå¸¸å°†äº‹ä»¶å¤„ç†ç¨‹åºå‘½åä¸º `handle`ï¼Œåæ¥äº‹ä»¶åã€‚ä½ ä¼šç»å¸¸çœ‹åˆ° `onClick={handleClick}`ï¼Œ`onMouseEnter={handleMouseEnter}` ç­‰ã€‚

å…ˆå®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œç„¶åå°†å…¶ä½œä¸ºpropä¼ å…¥åˆé€‚çš„JSXæ ‡ç­¾ã€‚

æŒ‰ç…§å¦‚ä¸‹ä¸‰ä¸ªæ­¥éª¤ï¼Œå³å¯è®©å®ƒåœ¨ç”¨æˆ·ç‚¹å‡»æ—¶æ˜¾ç¤ºæ¶ˆæ¯ï¼š
1. åœ¨Â `Button`Â ç»„ä»¶Â **å†…éƒ¨**Â å£°æ˜ä¸€ä¸ªåä¸ºÂ `handleClick`Â çš„å‡½æ•°ã€‚
2. å®ç°å‡½æ•°å†…éƒ¨çš„é€»è¾‘ï¼ˆä½¿ç”¨Â `alert`Â æ¥æ˜¾ç¤ºæ¶ˆæ¯ï¼‰ã€‚
3. æ·»åŠ Â `onClick={handleClick}`Â åˆ°Â `<button>`Â JSX ä¸­ã€‚
```jsx
export default function Button(){
  function handleClick(){
  alert('ä½ ç‚¹å‡»äº†æˆ‘')ï¼›
  }
  return(
     <button  onClick={handleClick}>
     ç‚¹æˆ‘
     </button>
  );
}

æˆ–è€…ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨ JSX ä¸­å®šä¹‰ä¸€ä¸ªå†…è”çš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼š
<button onClick={function handleClick() {  alert('ä½ ç‚¹å‡»äº†æˆ‘ï¼');}}>

æˆ–è€…ï¼Œç›´æ¥ä½¿ç”¨æ›´ä¸ºç®€æ´ç®­å¤´å‡½æ•°ï¼š
<button onClick={() => {  alert('ä½ ç‚¹å‡»äº†æˆ‘ï¼');}}>
```

### é™·é˜±
ä¼ é€’ç»™äº‹ä»¶å¤„ç†å‡½æ•°çš„å‡½æ•°åº”ç›´æ¥ä¼ é€’ï¼Œè€Œéè°ƒç”¨ã€‚

|ä¼ é€’ä¸€ä¸ªå‡½æ•°ï¼ˆæ­£ç¡®ï¼‰|è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼ˆé”™è¯¯ï¼‰|
|---|---|
|`<button onClick={handleClick}>`|`<button onClick={handleClick()}>`|

åŒºåˆ«å¾ˆå¾®å¦™ã€‚åœ¨ç¬¬ä¸€ä¸ªç¤ºä¾‹ä¸­ï¼Œ`handleClick` å‡½æ•°ä½œä¸º `onClick` äº‹ä»¶å¤„ç†å‡½æ•°ä¼ é€’ã€‚è¿™ä¼šè®© React è®°ä½å®ƒï¼Œå¹¶ä¸”åªåœ¨ç”¨æˆ·ç‚¹å‡»æŒ‰é’®æ—¶è°ƒç”¨ä½ çš„å‡½æ•°ã€‚

åœ¨ç¬¬äºŒä¸ªç¤ºä¾‹ä¸­ï¼Œ`handleClick()` ä¸­æœ€åçš„ `()` ä¼šåœ¨ [æ¸²æŸ“](https://react.docschina.org/learn/render-and-commit) è¿‡ç¨‹ä¸­ **ç«‹å³** è§¦å‘å‡½æ•°ï¼Œå³ä½¿æ²¡æœ‰ä»»ä½•ç‚¹å‡»ã€‚è¿™æ˜¯å› ä¸ºåœ¨ [JSX `{` å’Œ `}`](https://react.docschina.org/learn/javascript-in-jsx-with-curly-braces) ä¹‹é—´çš„ JavaScript ä¼šç«‹å³æ‰§è¡Œã€‚
å¦‚æœæŒ‰å¦‚ä¸‹æ–¹å¼ä¼ é€’å†…è”ä»£ç ï¼Œå¹¶ä¸ä¼šåœ¨ç‚¹å‡»æ—¶è§¦å‘ï¼Œè€Œæ˜¯ä¼šåœ¨æ¯æ¬¡ç»„ä»¶æ¸²æŸ“æ—¶è§¦å‘ï¼š

```jsx
<button onClick={alert('ä½ ç‚¹å‡»äº†æˆ‘ï¼')}>
// è¿™ä¸ª alert åœ¨ç»„ä»¶æ¸²æŸ“æ—¶è§¦å‘ï¼Œè€Œä¸æ˜¯ç‚¹å‡»æ—¶è§¦å‘ï¼
```

å¦‚æœä½ æƒ³è¦å®šä¹‰å†…è”äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œè¯·å°†å…¶åŒ…è£…åœ¨åŒ¿åå‡½æ•°ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```jsx
<button onClick={(è¿™æ˜¯åŒ¿åå‡½æ•°) => alert('ä½ ç‚¹å‡»äº†æˆ‘ï¼')}>
```
åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œä½ éƒ½åº”è¯¥ä¼ é€’ä¸€ä¸ªå‡½æ•°ï¼š

- `<button onClick={handleClick}>`Â ä¼ é€’äº†Â `handleClick`Â å‡½æ•°ã€‚
- `<button onClick={() => alert('...')}>`Â ä¼ é€’äº†Â `() => alert('...')`Â å‡½æ•°ã€‚

> [äº†è§£æ›´å¤šç®­å¤´å‡½æ•°çš„ä¿¡æ¯](https://zh.javascript.info/arrow-functions-basics)ã€‚


```jsx
1.äº‹ä»¶å¤„ç†å‡½æ•°å£°æ˜äºç»„ä»¶å†…éƒ¨ï¼Œå¯ä»¥ç›´æ¥è®¿é—®ç»„ä»¶çš„propsã€‚

  function AlertButton({ message, children }) {
  return (
    <button onClick={() => alert(message)}>
      {children}
    </button>
  );
}
export default function Toolbar() {
  return (
    <div>
      <AlertButton message="æ­£åœ¨æ’­æ”¾ï¼">
        æ’­æ”¾ç”µå½±
      </AlertButton>
      <AlertButton message="æ­£åœ¨ä¸Šä¼ ï¼">
        ä¸Šä¼ å›¾ç‰‡
      </AlertButton>
    </div>
  );
}

2.å¯ä»¥å°†äº‹ä»¶å¤„ç†å‡½æ•°ä½œä¸ºpropsä¼ é€’
//å­ç»„ä»¶Button
function Button({onClick,children}){
  return(
    <button onClick={onClick}>
       {children}
       </button>
  );
}
//å­ç»„ä»¶æ’­æ”¾æŒ‰é’®
function PlayButton({movieName}){
   function handlePlayClick(){
   alert('æ­£åœ¨æ’­æ”¾${movieName}!')}
   //ES6å­—ç¬¦ä¸²æ¨¡ç‰ˆå®ç°å˜é‡å’Œå­—ç¬¦ä¸²çš„æ‹¼æ¥

   return(
   <Button onClick={handlePlayClick}>
   æ’­æ”¾"{movieName}"
   </Button>
   );
}
//å­ç»„ä»¶ä¸Šä¼ æŒ‰é’®
function UploadButton(){
  return(
  <Button  onClick={()=>alert('æ­£åœ¨ä¸Šä¼ ')}>
  ä¸Šä¼ å›¾ç‰‡
  </Button>
  );
}
//æ ¹ç»„ä»¶
export default function Toolbar(){
  return(
  <div>
     <PlayButton  movieName="æ€¦ç„¶å¿ƒåŠ¨" />
     <UploadButton />
   </div>
   );
}
```
`Toolbar` ç»„ä»¶æ¸²æŸ“äº†ä¸€ä¸ª `PlayButton` ç»„ä»¶å’Œ `UploadButton` ç»„ä»¶ï¼š

- `PlayButton`Â å°†Â `handlePlayClick`Â ä½œä¸ºÂ `onClick`Â prop ä¼ å…¥Â `Button`Â ç»„ä»¶å†…éƒ¨ã€‚
- `UploadButton`Â å°†Â `() => alert('æ­£åœ¨ä¸Šä¼ ï¼')`Â ä½œä¸ºÂ `onClick`Â prop ä¼ å…¥Â `Button`Â ç»„ä»¶å†…éƒ¨ã€‚

æœ€åï¼Œä½ çš„ `Button` ç»„ä»¶æ¥æ”¶ä¸€ä¸ªåä¸º `onClick` çš„ propã€‚å®ƒç›´æ¥å°†è¿™ä¸ª prop ä»¥ `onClick={onClick}` æ–¹å¼ä¼ é€’ç»™æµè§ˆå™¨å†…ç½®çš„ `<button>`ã€‚å½“ç‚¹å‡»æŒ‰é’®æ—¶ï¼ŒReact ä¼šè°ƒç”¨ä¼ å…¥çš„å‡½æ•°ã€‚

*==å‘½åï¼šäº‹ä»¶å¤„ç†å‡½æ•° props åº”è¯¥ä»¥ `on` å¼€å¤´ï¼Œåè·Ÿä¸€ä¸ªå¤§å†™å­—æ¯ã€‚==*
ä¾‹å¦‚ï¼š`Button` ç»„ä»¶çš„ `onClick` prop æœ¬æ¥ä¹Ÿå¯ä»¥è¢«å‘½åä¸º `onSmash`
```jsx
function Button ({onSmash,children}){
   return(
   <button onClick ={onSmash}>
   //æµè§ˆå™¨å†…ç½®çš„buttonéœ€è¦ç”¨onClickï¼Œè‡ªå®šä¹‰çš„Buttonç»„ä»¶propå¯ä»¥è‡ªå®šä¹‰
   {children}
   </button>
   );
}
export default function App(){
return(
   <div>
     <Button onSmash={()=>alert('æ­£åœ¨æ’­æ”¾')}>
     </Button>
     <Button onSmash={()=>alert('æ­£åœ¨æ’­æ”¾')}>
     </Button>
   </div>
)
}
```
# 2.äº‹ä»¶ä¼ æ’­ï¼š
äº‹ä»¶å¤„ç†å‡½æ•°å°†æ•è·ä»»ä½•å­ç»„ä»¶çš„äº‹ä»¶ã€‚äº‹ä»¶ä¼šæ²¿ç€æ ‘å‘ä¸Šå†’æ³¡å’Œä¼ æ’­ã€‚
å¦‚æœä½ ç‚¹å‡»ä»»ä¸€æŒ‰é’®ï¼Œå®ƒè‡ªèº«çš„ `onClick` å°†é¦–å…ˆæ‰§è¡Œï¼Œç„¶åçˆ¶çº§ `<div>` çš„ `onClick` ä¼šæ¥ç€æ‰§è¡Œã€‚å› æ­¤ä¼šå‡ºç°ä¸¤æ¡æ¶ˆæ¯ã€‚å¦‚æœä½ ç‚¹å‡» toolbar æœ¬èº«ï¼Œå°†åªæœ‰çˆ¶çº§ `<div>` çš„ `onClick` ä¼šæ‰§è¡Œã€‚åœ¨ React ä¸­æ‰€æœ‰äº‹ä»¶éƒ½ä¼šä¼ æ’­ï¼Œé™¤äº† `onScroll`ï¼Œå®ƒä»…é€‚ç”¨äºä½ é™„åŠ åˆ°çš„ JSX æ ‡ç­¾ã€‚
```jsx
export default function Toolbar() {
  return (
    <div className="Toolbar" onClick={() => {
      alert('ä½ ç‚¹å‡»äº† toolbar ï¼');
    }}>
      <button onClick={() => alert('æ­£åœ¨æ’­æ”¾ï¼')}>
        æ’­æ”¾ç”µå½±
      </button>
      <button onClick={() => alert('æ­£åœ¨ä¸Šä¼ ï¼')}>
        ä¸Šä¼ å›¾ç‰‡
      </button>
    </div>
  );
}
```
### é˜»æ­¢ä¼ æ’­Â 

äº‹ä»¶å¤„ç†å‡½æ•°æ¥æ”¶ä¸€ä¸ª **äº‹ä»¶å¯¹è±¡** ä½œä¸ºå”¯ä¸€çš„å‚æ•°ã€‚æŒ‰ç…§æƒ¯ä¾‹ï¼Œå®ƒé€šå¸¸è¢«ç§°ä¸º `e` ï¼Œä»£è¡¨ â€œeventâ€ï¼ˆäº‹ä»¶ï¼‰ã€‚ä½¿ç”¨æ­¤å¯¹è±¡æ¥è¯»å–æœ‰å…³äº‹ä»¶çš„ä¿¡æ¯ã€‚

è¿™ä¸ªäº‹ä»¶å¯¹è±¡è¿˜å…è®¸ä½ é˜»æ­¢ä¼ æ’­ã€‚å¦‚æœä½ æƒ³é˜»æ­¢ä¸€ä¸ªäº‹ä»¶åˆ°è¾¾çˆ¶ç»„ä»¶ï¼Œä½ éœ€è¦åƒä¸‹é¢ `Button` ç»„ä»¶é‚£æ ·è°ƒç”¨ `e.stopPropagation()` ï¼š
```jsx
function Button({ onClick, children }) {
  return (
    <button onClick={e => {
      e.stopPropagation();
      onClick();
    }}>
      {children}
    </button>
  );
}

export default function Toolbar() {
  return (
    <div className="Toolbar" onClick={() => {
      alert('ä½ ç‚¹å‡»äº† toolbar ï¼');
    }}>
      <Button onClick={() => alert('æ­£åœ¨æ’­æ”¾ï¼')}>
        æ’­æ”¾ç”µå½±
      </Button>
      <Button onClick={() => alert('æ­£åœ¨ä¸Šä¼ ï¼')}>
        ä¸Šä¼ å›¾ç‰‡
      </Button>
    </div>
  );
}

```
å½“ä½ ç‚¹å‡»æŒ‰é’®æ—¶ï¼š

1. React è°ƒç”¨äº†ä¼ é€’ç»™Â `<button>`Â çš„Â `onClick`Â å¤„ç†å‡½æ•°ã€‚
2. å®šä¹‰åœ¨Â `Button`Â ä¸­çš„å¤„ç†å‡½æ•°æ‰§è¡Œäº†å¦‚ä¸‹æ“ä½œï¼š
    - è°ƒç”¨Â `e.stopPropagation()`ï¼Œé˜»æ­¢äº‹ä»¶è¿›ä¸€æ­¥å†’æ³¡ã€‚
    - è°ƒç”¨Â `onClick`Â å‡½æ•°ï¼Œå®ƒæ˜¯ä»Â `Toolbar`Â ç»„ä»¶ä¼ é€’è¿‡æ¥çš„ propã€‚
3. åœ¨Â `Toolbar`Â ç»„ä»¶ä¸­å®šä¹‰çš„å‡½æ•°ï¼Œæ˜¾ç¤ºæŒ‰é’®å¯¹åº”çš„ alertã€‚
4. ç”±äºä¼ æ’­è¢«é˜»æ­¢ï¼Œçˆ¶çº§Â `<div>`Â çš„Â `onClick`Â å¤„ç†å‡½æ•°ä¸ä¼šæ‰§è¡Œã€‚

ç”±äºè°ƒç”¨äº† `e.stopPropagation()`ï¼Œç‚¹å‡»æŒ‰é’®ç°åœ¨å°†åªæ˜¾ç¤ºä¸€ä¸ª alertï¼ˆæ¥è‡ª `<button>`ï¼‰ï¼Œè€Œå¹¶éä¸¤ä¸ªï¼ˆåˆ†åˆ«æ¥è‡ª `<button>` å’Œçˆ¶çº§ toolbar `<div>`ï¼‰ã€‚ç‚¹å‡»æŒ‰é’®ä¸ç‚¹å‡»å‘¨å›´çš„ toolbar ä¸åŒï¼Œå› æ­¤é˜»æ­¢ä¼ æ’­å¯¹è¿™ä¸ª UI æ˜¯æœ‰æ„ä¹‰çš„ã€‚

### é˜»æ­¢é»˜è®¤è¡Œä¸º
æŸäº›æµè§ˆå™¨äº‹ä»¶å…·æœ‰ä¸äº‹ä»¶ç›¸å…³è”çš„é»˜è®¤è¡Œä¸ºã€‚ä¾‹å¦‚ï¼Œç‚¹å‡» `<form>` è¡¨å•å†…éƒ¨çš„æŒ‰é’®ä¼šè§¦å‘è¡¨å•æäº¤äº‹ä»¶ï¼Œé»˜è®¤æƒ…å†µä¸‹å°†é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ï¼š
```jsx
export default function Signup() {
  return (
    <form onSubmit={() => alert('æäº¤è¡¨å•ï¼')}>
      <input />
      <button>å‘é€</button>
    </form>
  );
}
```
ä½ å¯ä»¥è°ƒç”¨äº‹ä»¶å¯¹è±¡ä¸­çš„ `e.preventDefault()` æ¥é˜»æ­¢è¿™ç§æƒ…å†µå‘ç”Ÿï¼š
```jsx
export default function Signup() {
  return (
    <form onSubmit={e => {
      e.preventDefault();
      alert('æäº¤è¡¨å•ï¼');
    }}>
      <input />
      <button>å‘é€</button>
    </form>
  );
}
```
ä¸è¦æ··æ·† `e.stopPropagation()` å’Œ `e.preventDefault()`ã€‚å®ƒä»¬éƒ½å¾ˆæœ‰ç”¨ï¼Œä½†äºŒè€…å¹¶ä¸ç›¸å…³ï¼š

- [`e.stopPropagation()`](https://developer.mozilla.org/docs/Web/API/Event/stopPropagation)Â é˜»æ­¢è§¦å‘ç»‘å®šåœ¨å¤–å±‚æ ‡ç­¾ä¸Šçš„äº‹ä»¶å¤„ç†å‡½æ•°ã€‚
- [`e.preventDefault()`](https://developer.mozilla.org/docs/Web/API/Event/preventDefault)Â é˜»æ­¢å°‘æ•°äº‹ä»¶çš„é»˜è®¤æµè§ˆå™¨è¡Œä¸ºã€‚

stopPropagationå¯ä»¥ä»¥è¿™ä¸ªä¸ºæ¨¡ç‰ˆï¼š
![[Pasted image 20240626134334.png]]


## äº‹ä»¶å¤„ç†å‡½æ•°åŒ…å«å‰¯ä½œç”¨
ä¸æ¸²æŸ“å‡½æ•°ï¼ˆç»„ä»¶ï¼‰ä¸åŒï¼Œäº‹ä»¶å¤„ç†å‡½æ•°ä¸éœ€è¦æ˜¯ [çº¯å‡½æ•°](https://react.docschina.org/learn/keeping-components-pure)ï¼Œå› æ­¤å®ƒæ˜¯ç”¨æ¥ _æ›´æ”¹_ æŸäº›å€¼çš„ç»ä½³ä½ç½®ã€‚ä¾‹å¦‚ï¼Œæ›´æ”¹è¾“å…¥æ¡†çš„å€¼ä»¥å“åº”é”®å…¥ï¼Œæˆ–è€…æ›´æ”¹åˆ—è¡¨ä»¥å“åº”æŒ‰é’®çš„è§¦å‘ã€‚ä½†æ˜¯ï¼Œä¸ºäº†æ›´æ”¹æŸäº›ä¿¡æ¯ï¼Œä½ é¦–å…ˆéœ€è¦æŸç§æ–¹å¼å­˜å‚¨å®ƒã€‚åœ¨ React ä¸­ï¼Œè¿™æ˜¯é€šè¿‡ [stateï¼ˆç»„ä»¶çš„è®°å¿†ï¼‰](https://react.docschina.org/learn/state-a-components-memory) æ¥å®Œæˆçš„ã€‚

# Stateï¼šç»„ä»¶è®°å¿†
- å½“ä¸€ä¸ªç»„ä»¶éœ€è¦åœ¨å¤šæ¬¡æ¸²æŸ“é—´â€œè®°ä½â€æŸäº›ä¿¡æ¯æ—¶ä½¿ç”¨ state å˜é‡ã€‚
- State å˜é‡æ˜¯é€šè¿‡è°ƒç”¨Â `useState`Â Hook æ¥å£°æ˜çš„ã€‚
- Hook æ˜¯ä»¥Â `use`Â å¼€å¤´çš„ç‰¹æ®Šå‡½æ•°ã€‚å®ƒä»¬èƒ½è®©ä½  â€œhookâ€ åˆ°åƒ state è¿™æ ·çš„ React ç‰¹æ€§ä¸­ã€‚
- Hook å¯èƒ½ä¼šè®©ä½ æƒ³èµ· importï¼šå®ƒä»¬éœ€è¦åœ¨éæ¡ä»¶è¯­å¥ä¸­è°ƒç”¨ã€‚è°ƒç”¨ Hook æ—¶ï¼ŒåŒ…æ‹¬Â `useState`ï¼Œä»…åœ¨ç»„ä»¶æˆ–å¦ä¸€ä¸ª Hook çš„é¡¶å±‚è¢«è°ƒç”¨æ‰æœ‰æ•ˆã€‚
- `useState`Â Hook è¿”å›ä¸€å¯¹å€¼ï¼šå½“å‰ state å’Œæ›´æ–°å®ƒçš„å‡½æ•°ã€‚
- ä½ å¯ä»¥æ‹¥æœ‰å¤šä¸ª state å˜é‡ã€‚åœ¨å†…éƒ¨ï¼ŒReact æŒ‰é¡ºåºåŒ¹é…å®ƒä»¬ã€‚
- State æ˜¯ç»„ä»¶ç§æœ‰çš„ã€‚å¦‚æœä½ åœ¨ä¸¤ä¸ªåœ°æ–¹æ¸²æŸ“å®ƒï¼Œåˆ™æ¯ä¸ªå‰¯æœ¬éƒ½æœ‰ç‹¬å±äºè‡ªå·±çš„ stateã€‚
Qï¼šä¸ºä»€ä¹ˆReactéœ€è¦stateï¼Ÿ
Aï¼šå®šä¹‰åœ¨ç»„ä»¶ä¸­çš„å±€éƒ¨å˜é‡æ— æ³•å¤šæ¬¡æ¸²æŸ“æŒä¹…ä¿å­˜ï¼Œå½“Reactå†æ¬¡æ¸²æŸ“ç»„ä»¶çš„æ—¶å€™ï¼Œå®ƒä¼šä»å¤´æ¸²æŸ“ï¼Œä¸ä¼šè€ƒè™‘ä¹‹å‰å¯¹å±€éƒ¨å˜é‡çš„ä»»ä½•æ›´æ”¹ï¼Œæ›´æ–°å±€éƒ¨å˜é‡ä¸ä¼šè§¦å‘æ¸²æŸ“ã€‚

1. **ä¿ç•™**Â æ¸²æŸ“ä¹‹é—´çš„æ•°æ®ã€‚
2. **è§¦å‘**Â React ä½¿ç”¨æ–°æ•°æ®æ¸²æŸ“ç»„ä»¶ï¼ˆé‡æ–°æ¸²æŸ“ï¼‰ã€‚

[`useState`](https://zh-hans.react.dev/reference/react/useState) Hook æä¾›äº†è¿™ä¸¤ä¸ªåŠŸèƒ½ï¼š
1. **State å˜é‡**Â ç”¨äºä¿å­˜æ¸²æŸ“é—´çš„æ•°æ®ã€‚
2. **State setter å‡½æ•°**Â æ›´æ–°å˜é‡å¹¶è§¦å‘ React å†æ¬¡æ¸²æŸ“ç»„ä»¶ã€‚
## æ·»åŠ ä¸€ä¸ª state å˜é‡
```jsx
//æ·»åŠ stateå˜é‡è¦å…ˆä»æ–‡ä»¶é¡¶éƒ¨Reactä¸­å¯¼å…¥useState
import {useState}from 'react';
//æ›¿æ¢å±€éƒ¨å˜é‡ä¿®æ”¹ä¸ºï¼šè¿™é‡Œçš„ `[` å’Œ `]` è¯­æ³•ç§°ä¸º[æ•°ç»„è§£æ„]å®ƒå…è®¸ä½ ä»æ•°ç»„ä¸­è¯»å–å€¼ã€‚ `useState` è¿”å›çš„æ•°ç»„æ€»æ˜¯æ­£å¥½æœ‰ä¸¤é¡¹ã€‚
const [index,setIndex]=useState(0);
//indexæ˜¯ä¸€ä¸ªstateå˜é‡ï¼ŒsetIndexæ˜¯å¯¹åº”çš„setterå‡½æ•°
//å®šä¹‰å‡½æ•°è®¾ç½®setIndexå‡½æ•°
function handleClick(){
 setIndex(index+1);
}
```
åœ¨ React ä¸­ï¼Œ`useState` ä»¥åŠä»»ä½•å…¶ä»–ä»¥â€œ`use`â€å¼€å¤´çš„å‡½æ•°éƒ½è¢«ç§°ä¸º **Hook**ã€‚
### é™·é˜±
**Hooks â€”â€”ä»¥ `use` å¼€å¤´çš„å‡½æ•°â€”â€”åªèƒ½åœ¨ç»„ä»¶æˆ–[è‡ªå®šä¹‰ Hook](https://zh-hans.react.dev/learn/reusing-logic-with-custom-hooks) çš„æœ€é¡¶å±‚è°ƒç”¨ã€‚** ä½ ä¸èƒ½åœ¨æ¡ä»¶è¯­å¥ã€å¾ªç¯è¯­å¥æˆ–å…¶ä»–åµŒå¥—å‡½æ•°å†…è°ƒç”¨ Hookã€‚åœ¨ç»„ä»¶é¡¶éƒ¨ â€œuseâ€ React ç‰¹æ€§ï¼Œç±»ä¼¼äºåœ¨æ–‡ä»¶é¡¶éƒ¨â€œå¯¼å…¥â€æ¨¡å—ã€‚
### å‰–æuseState
è°ƒç”¨useStateï¼Œæ˜¯åœ¨å‘Šè¯‰Reactä½ æƒ³è®©ç»„ä»¶è®°ä½ä¸€äº›ä¸œè¥¿ï¼š
```jsx
const [index,setIndex]=useState(0);
//è¿™ä¸ªä¾‹å­ä¸­ï¼Œä½ å¸Œæœ›Reactè®°ä½index
//æƒ¯ä¾‹æ˜¯å°†è¿™å¯¹è¿”å›å€¼å‘½åä¸º `const [thing, setThing]`ã€‚
```
*useStateçš„å”¯ä¸€å‚æ•°æ˜¯stateå˜é‡çš„åˆå§‹å€¼ï¼Œæ¯æ¬¡æ¸²æŸ“æ—¶ï¼ŒuseStateä¼šç»™ä½ ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå€¼çš„==æ•°ç»„==ï¼š*
*1.stateå˜é‡ï¼ˆindexï¼‰ä¼šä¿å­˜ä¸Šæ¬¡æ¸²æŸ“çš„å€¼ã€‚*
*2.state setterå‡½æ•°ï¼ˆsetIndexï¼‰å¯ä»¥æ›´æ–°stateå˜é‡å¹¶ä¸”è§¦å‘reacté‡æ–°æ¸²æŸ“ç»„ä»¶*
ä»¥ä¸‹æ˜¯å®é™…å‘ç”Ÿçš„æƒ…å†µï¼š
```jsx
const [index, setIndex] = useState(0);
```

1. **ç»„ä»¶è¿›è¡Œç¬¬ä¸€æ¬¡æ¸²æŸ“ã€‚**Â å› ä¸ºä½ å°†Â `0`Â ä½œä¸ºÂ `index`Â çš„åˆå§‹å€¼ä¼ é€’ç»™Â `useState`ï¼Œå®ƒå°†è¿”å›Â `[0, setIndex]`ã€‚ React è®°ä½Â `0`Â æ˜¯æœ€æ–°çš„ state å€¼ã€‚
2. **ä½ æ›´æ–°äº† state**ã€‚å½“ç”¨æˆ·ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œå®ƒä¼šè°ƒç”¨Â `setIndex(index + 1)`ã€‚Â `index`Â æ˜¯Â `0`ï¼Œæ‰€ä»¥å®ƒæ˜¯Â `setIndex(1)`ã€‚è¿™å‘Šè¯‰ React ç°åœ¨è®°ä½Â `index`Â æ˜¯Â `1`Â å¹¶è§¦å‘ä¸‹ä¸€æ¬¡æ¸²æŸ“ã€‚
3. **ç»„ä»¶è¿›è¡Œç¬¬äºŒæ¬¡æ¸²æŸ“**ã€‚React ä»ç„¶çœ‹åˆ°Â `useState(0)`ï¼Œä½†æ˜¯å› ä¸º ReactÂ _è®°ä½_Â äº†ä½ å°†Â `index`Â è®¾ç½®ä¸ºäº†Â `1`ï¼Œå®ƒå°†è¿”å›Â `[1, setIndex]`ã€‚
4. ä»¥æ­¤ç±»æ¨ï¼

Qï¼šReact å¦‚ä½•çŸ¥é“è¿”å›å“ªä¸ª stateï¼Ÿ
Aï¼šéµå¾ªé¡¶å±‚è°ƒç”¨Hooksï¼ŒHookså°†å§‹ç»ˆä»¥ç›¸åŒé¡ºåºè¢«è°ƒç”¨ã€‚

Stateæ˜¯éš”ç¦»ä¸”ç§æœ‰çš„ï¼šè¿™ä¸ªç›´æ¥çœ‹ä¾‹å­
![[Pasted image 20240628183840.png]]
åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä¹‹å‰çš„ `Gallery` ç»„ä»¶ä»¥åŒæ ·çš„é€»è¾‘è¢«æ¸²æŸ“äº†ä¸¤æ¬¡ã€‚è¯•ç€ç‚¹å‡»æ¯ä¸ªç”»å»Šå†…çš„æŒ‰é’®ã€‚ä½ ä¼šæ³¨æ„åˆ°å®ƒä»¬çš„ state æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼š**å¦‚æœä½ æ¸²æŸ“åŒä¸€ä¸ªç»„ä»¶ä¸¤æ¬¡ï¼Œæ¯ä¸ªå‰¯æœ¬éƒ½ä¼šæœ‰å®Œå…¨éš”ç¦»çš„ state**ï¼æ”¹å˜å…¶ä¸­ä¸€ä¸ªä¸ä¼šå½±å“å¦ä¸€ä¸ªã€‚ä¸ props ä¸åŒï¼Œ**state å®Œå…¨ç§æœ‰äºå£°æ˜å®ƒçš„ç»„ä»¶**ã€‚çˆ¶ç»„ä»¶æ— æ³•æ›´æ”¹å®ƒã€‚è¿™ä½¿ä½ å¯ä»¥å‘ä»»ä½•ç»„ä»¶æ·»åŠ æˆ–åˆ é™¤ stateï¼Œè€Œä¸ä¼šå½±å“å…¶ä»–ç»„ä»¶ã€‚
å®ŒæˆæŒ‘æˆ˜ï¼š[Stateï¼šç»„ä»¶çš„è®°å¿† â€“ React ä¸­æ–‡æ–‡æ¡£](https://zh-hans.react.dev/learn/state-a-components-memory)

*åé¢å‡ èŠ‚çš„çŸ¥è¯†ç‚¹æ¯”è¾ƒé›¶ç¢æˆ‘å°±å†™åœ¨ä¸€èµ·äº†*

# æ¸²æŸ“å’Œæäº¤
Qï¼šä¸ºä»€ä¹ˆæ¸²æŸ“å¹¶ä¸ä¸€å®šä¼šå¯¼è‡´ DOM æ›´æ–°ï¼Ÿ
A:å¦‚æœæ¸²æŸ“ç»“æœä¸ä¸Šæ¬¡ä¸€æ ·ï¼Œé‚£ä¹ˆ React å°†ä¸ä¼šä¿®æ”¹ DOM

==è§¦å‘æ¸²æŸ“->æ¸²æŸ“ç»„ä»¶->æäº¤åˆ°DOM==

## 1.è§¦å‘æ¸²æŸ“
1.ç»„ä»¶åˆæ¬¡æ¸²æŸ“
2.ç»„ä»¶æˆ–è€…ç¥–å…ˆä¹‹ä¸€çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜é‡æ–°æ¸²æŸ“
## 2.React æ¸²æŸ“ä½ çš„ç»„ä»¶
æ ¹ç»„ä»¶->å†…éƒ¨çŠ¶æ€å˜åŒ–è§¦å‘æ¸²æŸ“çš„ç»„ä»¶ï¼ˆé€’å½’è°ƒç”¨çš„è¿‡ç¨‹ï¼‰
### é™·é˜±
æ¸²æŸ“å¿…é¡»å§‹ç»ˆæ˜¯ä¸€æ¬¡ [çº¯è®¡ç®—](https://zh-hans.react.dev/learn/keeping-components-pure):

- **è¾“å…¥ç›¸åŒï¼Œè¾“å‡ºç›¸åŒã€‚**Â ç»™å®šç›¸åŒçš„è¾“å…¥ï¼Œç»„ä»¶åº”å§‹ç»ˆè¿”å›ç›¸åŒçš„ JSXã€‚ï¼ˆå½“æœ‰äººç‚¹äº†è¥¿çº¢æŸ¿æ²™æ‹‰æ—¶ï¼Œä»–ä»¬ä¸åº”è¯¥æ”¶åˆ°æ´‹è‘±æ²™æ‹‰ï¼ï¼‰
- **åªåšå®ƒè‡ªå·±çš„äº‹æƒ…ã€‚**Â å®ƒä¸åº”æ›´æ”¹ä»»ä½•å­˜åœ¨äºæ¸²æŸ“ä¹‹å‰çš„å¯¹è±¡æˆ–å˜é‡ã€‚ï¼ˆä¸€ä¸ªè®¢å•ä¸åº”æ›´æ”¹å…¶ä»–ä»»ä½•äººçš„è®¢å•ã€‚ï¼‰
## 3.React æŠŠæ›´æ”¹æäº¤åˆ° DOM ä¸Š
## è®¾ç½® state ä¼šè§¦å‘æ¸²æŸ“ï¼Œæ¸²æŸ“ä¼šåŠæ—¶ç”Ÿæˆä¸€å¼ å¿«ç…§
[â€œæ­£åœ¨æ¸²æŸ“â€](https://zh-hans.react.dev/learn/render-and-commit#step-2-react-renders-your-components) å°±æ„å‘³ç€ React æ­£åœ¨è°ƒç”¨ä½ çš„ç»„ä»¶â€”â€”ä¸€ä¸ªå‡½æ•°ã€‚ä½ ä»è¯¥å‡½æ•°è¿”å›çš„ JSX å°±åƒæ˜¯åœ¨æŸä¸ªæ—¶é—´ç‚¹ä¸Š UI çš„å¿«ç…§ã€‚å®ƒçš„ propsã€äº‹ä»¶å¤„ç†å‡½æ•°å’Œå†…éƒ¨å˜é‡éƒ½æ˜¯ **æ ¹æ®å½“å‰æ¸²æŸ“æ—¶çš„ state** è¢«è®¡ç®—å‡ºæ¥çš„ã€‚
[state å¦‚åŒä¸€å¼ å¿«ç…§ â€“ React ä¸­æ–‡æ–‡æ¡£](https://zh-hans.react.dev/learn/state-as-a-snapshot)æ–‡æ¡£æœ‰å›¾å¾ˆæ¸…æ™°
å½“ React é‡æ–°æ¸²æŸ“ä¸€ä¸ªç»„ä»¶æ—¶ï¼š
1. React ä¼šå†æ¬¡è°ƒç”¨ä½ çš„å‡½æ•°
2. å‡½æ•°ä¼šè¿”å›æ–°çš„ JSX å¿«ç…§
3. React ä¼šæ›´æ–°ç•Œé¢ä»¥åŒ¹é…è¿”å›çš„å¿«ç…§
![[Pasted image 20240629104651.png]]
![[Pasted image 20240629104709.png]]


- è®¾ç½® state ä¸ä¼šæ›´æ”¹ç°æœ‰æ¸²æŸ“ä¸­çš„å˜é‡ï¼Œä½†ä¼šè¯·æ±‚ä¸€æ¬¡æ–°çš„æ¸²æŸ“ã€‚
- React ä¼šåœ¨äº‹ä»¶å¤„ç†å‡½æ•°æ‰§è¡Œå®Œæˆä¹‹åå¤„ç† state æ›´æ–°ã€‚è¿™è¢«ç§°ä¸ºæ‰¹å¤„ç†ã€‚
- è¦åœ¨ä¸€ä¸ªäº‹ä»¶ä¸­å¤šæ¬¡æ›´æ–°æŸäº› stateï¼Œä½ å¯ä»¥ä½¿ç”¨Â `setNumber(n => n + 1)`Â æ›´æ–°å‡½æ•°ã€‚
- å°† React ä¸­æ‰€æœ‰çš„ state éƒ½è§†ä¸ºä¸å¯ç›´æ¥ä¿®æ”¹çš„ã€‚(*stateå¯ä»¥ä¿å­˜ä»»æ„ç±»å‹çš„jså€¼å’Œå¯¹è±¡ï¼Œä½†æ˜¯ä¸èƒ½ç›´æ¥ä¿®æ”¹å­˜æ”¾åœ¨React Stateä¸­çš„å¯¹è±¡ï¼Œå½“è¦æ›´æ–°ä¸€ä¸ªå¯¹è±¡æ—¶è¦åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡*)
- å½“ä½ åœ¨ state ä¸­å­˜æ”¾å¯¹è±¡æ—¶ï¼Œç›´æ¥ä¿®æ”¹å¯¹è±¡å¹¶ä¸ä¼šè§¦å‘é‡æ¸²æŸ“ï¼Œå¹¶ä¼šæ”¹å˜å‰ä¸€æ¬¡æ¸²æŸ“â€œå¿«ç…§â€ä¸­ state çš„å€¼ã€‚
- ä¸è¦ç›´æ¥ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œè¦ä¸ºå®ƒåˆ›å»ºä¸€ä¸ªÂ **æ–°**Â ç‰ˆæœ¬ï¼Œå¹¶é€šè¿‡æŠŠ state è®¾ç½®æˆè¿™ä¸ªæ–°ç‰ˆæœ¬æ¥è§¦å‘é‡æ–°æ¸²æŸ“ã€‚
- ä½ å¯ä»¥ä½¿ç”¨è¿™æ ·çš„Â `{...obj, something: 'newValue'}`Â å¯¹è±¡å±•å¼€è¯­æ³•æ¥åˆ›å»ºå¯¹è±¡çš„æ‹·è´ã€‚
- å¯¹è±¡çš„å±•å¼€è¯­æ³•æ˜¯æµ…å±‚çš„ï¼šå®ƒçš„å¤åˆ¶æ·±åº¦åªæœ‰ä¸€å±‚ã€‚
- æƒ³è¦æ›´æ–°åµŒå¥—å¯¹è±¡ï¼Œä½ éœ€è¦ä»ä½ æ›´æ–°çš„ä½ç½®å¼€å§‹è‡ªåº•å‘ä¸Šä¸ºæ¯ä¸€å±‚éƒ½åˆ›å»ºæ–°çš„æ‹·è´ã€‚
- æƒ³è¦å‡å°‘é‡å¤çš„æ‹·è´ä»£ç ï¼Œå¯ä»¥ä½¿ç”¨ Immerã€‚

## ä»€ä¹ˆæ˜¯mutationï¼Ÿ
å¯ä»¥åœ¨stateä¸­å­˜æ”¾ä»»æ„ç±»å‹çš„Javascriptå€¼ï¼Œè¿™äº›å€¼æ˜¯ä¸å¯å˜çš„ï¼ˆimmutableï¼‰ï¼Œå¯ä»¥é€šè¿‡æ›¿æ¢ä»–ä»¬çš„å€¼è§¦å‘é‡æ–°æ¸²æŸ“ã€‚

```jsx
const[x,setX]=useState(0);
setX(5);//æ›¿æ¢å€¼ã€‚
//tate `x` ä» `0` å˜ä¸º `5`ï¼Œä½†æ˜¯æ•°å­— `0` æœ¬èº«å¹¶æ²¡æœ‰å‘ç”Ÿæ”¹å˜ã€‚åœ¨ JavaScript ä¸­ï¼Œæ— æ³•å¯¹å†…ç½®çš„åŸå§‹å€¼ï¼Œå¦‚æ•°å­—ã€å­—ç¬¦ä¸²å’Œå¸ƒå°”å€¼ï¼Œè¿›è¡Œä»»ä½•æ›´æ”¹ã€‚
```
```jsx
é”™è¯¯ï¼š
onPointerMove={e => {  
position.x = e.clientX;  
position.y = e.clientY;  
//è¿™é‡Œç›´æ¥æ›´æ”¹äº†stateå‡½æ•°
}}
onPointerMove={e => {  
setPosition({ //ä½¿ç”¨æ–°å¯¹è±¡æ›¿æ¢positionå€¼å†æ¬¡æ¸²æŸ“ç»„ä»¶
x: e.clientX,  
y: e.clientY  
});  
}}
```
#### å±€éƒ¨ mutation (çªå˜ï¼‰æ˜¯å¯ä»¥æ¥å—çš„
åƒè¿™æ ·çš„ä»£ç æ˜¯æœ‰é—®é¢˜çš„ï¼Œå› ä¸ºå®ƒæ”¹å˜äº† state ä¸­ç°æœ‰çš„å¯¹è±¡ï¼š
```jsx
position.x = e.clientX;position.y = e.clientY;
```

ä½†æ˜¯åƒè¿™æ ·çš„ä»£ç å°± **æ²¡æœ‰ä»»ä½•é—®é¢˜**ï¼Œå› ä¸ºä½ æ”¹å˜çš„æ˜¯ä½ åˆšåˆšåˆ›å»ºçš„ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼š

```jsx
const nextPosition = {};nextPosition.x = e.clientX;nextPosition.y = e.clientY;setPosition(nextPosition);
```

äº‹å®ä¸Šï¼Œå®ƒå®Œå…¨ç­‰åŒäºä¸‹é¢è¿™ç§å†™æ³•ï¼š

```jsx
setPosition({  x: e.clientX,  y: e.clientY});
```

åªæœ‰å½“ä½ æ”¹å˜å·²ç»å¤„äº state ä¸­çš„ **ç°æœ‰** å¯¹è±¡æ—¶ï¼Œmutation æ‰ä¼šæˆä¸ºé—®é¢˜ã€‚è€Œä¿®æ”¹ä¸€ä¸ªä½ åˆšåˆšåˆ›å»ºçš„å¯¹è±¡å°±ä¸ä¼šå‡ºç°ä»»ä½•é—®é¢˜ï¼Œå› ä¸º **è¿˜æ²¡æœ‰å…¶ä»–çš„ä»£ç å¼•ç”¨å®ƒ**ã€‚æ”¹å˜å®ƒå¹¶ä¸ä¼šæ„å¤–åœ°å½±å“åˆ°ä¾èµ–å®ƒçš„ä¸œè¥¿ã€‚è¿™å«åšâ€œå±€éƒ¨ mutationâ€ã€‚ä½ ç”šè‡³å¯ä»¥ [åœ¨æ¸²æŸ“çš„è¿‡ç¨‹ä¸­](https://zh-hans.react.dev/learn/keeping-components-pure#local-mutation-your-components-little-secret) è¿›è¡Œâ€œå±€éƒ¨ mutationâ€çš„æ“ä½œã€‚

## ä½¿ç”¨å±•å¼€è¯­æ³•å¤åˆ¶å¯¹è±¡
åœ¨ä¹‹å‰çš„ä¾‹å­ä¸­ï¼Œå§‹ç»ˆä¼šæ ¹æ®å½“å‰æŒ‡é’ˆçš„ä½ç½®åˆ›å»ºå‡ºä¸€ä¸ªæ–°çš„ `position` å¯¹è±¡ã€‚ä½†æ˜¯é€šå¸¸ï¼Œä½ ä¼šå¸Œæœ›æŠŠ **ç°æœ‰** æ•°æ®ä½œä¸ºä½ æ‰€åˆ›å»ºçš„æ–°å¯¹è±¡çš„ä¸€éƒ¨åˆ†ã€‚ä¾‹å¦‚ï¼Œä½ å¯èƒ½åªæƒ³è¦æ›´æ–°è¡¨å•ä¸­çš„ä¸€ä¸ªå­—æ®µï¼Œå…¶ä»–çš„å­—æ®µä»ç„¶ä½¿ç”¨ä¹‹å‰çš„å€¼ã€‚

ä¸‹é¢çš„ä»£ç ä¸­ï¼Œè¾“å…¥æ¡†å¹¶ä¸ä¼šæ­£å¸¸è¿è¡Œï¼Œå› ä¸º `onChange` ç›´æ¥ä¿®æ”¹äº† state
```jsx
import { useState } from 'react';

export default function Form() {
  const [person, setPerson] = useState({
    firstName: 'Barbara',
    lastName: 'Hepworth',
    email: 'bhepworth@sculpture.com'
  });

  function handleFirstNameChange(e) {
    person.firstName = e.target.value;//è¿™æ ·æ˜¯é”™è¯¯çš„
  }

  function handleLastNameChange(e) {
    person.lastName = e.target.value;//è¿™æ ·æ˜¯é”™è¯¯çš„
  }

  function handleEmailChange(e) {
    person.email = e.target.value;//è¿™æ ·æ˜¯é”™è¯¯çš„
  }
  setPerson({
   firstName:e.target.value,
   lastName:person.lastName,
   email:person.email
  });
  //å¯ä»¥ä½¿ç”¨å¯¹è±¡å±•å¼€è¯­æ³•,è¯·æ³¨æ„ `...` å±•å¼€è¯­æ³•æœ¬è´¨æ˜¯æ˜¯â€œæµ…æ‹·è´â€â€”â€”å®ƒåªä¼šå¤åˆ¶ä¸€å±‚ã€‚è¿™ä½¿å¾—å®ƒçš„æ‰§è¡Œé€Ÿåº¦å¾ˆå¿«ï¼Œä½†æ˜¯ä¹Ÿæ„å‘³ç€å½“ä½ æƒ³è¦æ›´æ–°ä¸€ä¸ªåµŒå¥—å±æ€§æ—¶ï¼Œä½ å¿…é¡»å¾—å¤šæ¬¡ä½¿ç”¨å±•å¼€è¯­æ³•ã€‚
  setPerson({
  ...person,
  firstName:e.target.value
  });

  return (
    <>
      <label>
        First name:
        <input
          value={person.firstName}
          onChange={handleFirstNameChange}
        />
      </label>
      <label>
        Last name:
        <input
          value={person.lastName}
          onChange={handleLastNameChange}
        />
      </label>
      <label>
        Email:
        <input
          value={person.email}
          onChange={handleEmailChange}
        />
      </label>
      <p>
        {person.firstName}{' '}
        {person.lastName}{' '}
        ({person.email})
      </p>
    </>
  );
}
```
## æ›´æ–°ä¸€ä¸ªåµŒå¥—å¯¹è±¡Â 

è€ƒè™‘ä¸‹é¢è¿™ç§ç»“æ„çš„åµŒå¥—å¯¹è±¡ï¼š

```jsx
const [person, setPerson] = useState({ 
name: 'Niki de Saint Phalle', 
artwork: { 
title: 'Blue Nana',   
city: 'Hamburg', 
image: 'https://i.imgur.com/Sd1AgUOm.jpg',  }});
```

å¦‚æœä½ æƒ³è¦æ›´æ–° `person.artwork.city` çš„å€¼ï¼Œç”¨ mutation æ¥å®ç°çš„æ–¹æ³•éå¸¸å®¹æ˜“ç†è§£ï¼š

```jsx
person.artwork.city = 'New Delhi';
```

ä½†æ˜¯åœ¨ React ä¸­ï¼Œä½ éœ€è¦å°† state è§†ä¸ºä¸å¯å˜çš„ï¼ä¸ºäº†ä¿®æ”¹ `city` çš„å€¼ï¼Œä½ é¦–å…ˆéœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„ `artwork` å¯¹è±¡ï¼ˆå…¶ä¸­é¢„å…ˆå¡«å……äº†ä¸Šä¸€ä¸ª `artwork` å¯¹è±¡ä¸­çš„æ•°æ®ï¼‰ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªæ–°çš„ `person` å¯¹è±¡ï¼Œå¹¶ä½¿å¾—å…¶ä¸­çš„ `artwork` å±æ€§æŒ‡å‘æ–°åˆ›å»ºçš„ `artwork` å¯¹è±¡ï¼š

```jsx
const nextArtwork = { ...person.artwork, city: 'New Delhi' };
const nextPerson = { ...person, artwork: nextArtwork };setPerson(nextPerson);
```

æˆ–è€…ï¼Œå†™æˆä¸€ä¸ªå‡½æ•°è°ƒç”¨ï¼š

```jsx
setPerson({  ...person, // å¤åˆ¶å…¶å®ƒå­—æ®µçš„æ•°æ®  
		   artwork: { // æ›¿æ¢ artwork å­—æ®µ    
		   
		    ...person.artwork, // å¤åˆ¶ä¹‹å‰ person.artwork ä¸­çš„æ•°æ®    
		    city: 'New Delhi' // ä½†æ˜¯å°† city çš„å€¼æ›¿æ¢ä¸º New Delhiï¼  
		    }});
```

#### å¯¹è±¡å¹¶éæ˜¯åµŒå¥—çš„Â è€Œæ˜¯æŒ‡å‘
ä¸‹é¢è¿™ä¸ªå¯¹è±¡ä»ä»£ç ä¸Šæ¥çœ‹æ˜¯â€œåµŒå¥—â€çš„ï¼š

```jsx
let obj = {  name: 'Niki de Saint Phalle',  
		   artwork: {    
		   title: 'Blue Nana', 
		   city: 'Hamburg', 
	       image: 'https://i.imgur.com/Sd1AgUOm.jpg',  }};
```

ç„¶è€Œï¼Œå½“æˆ‘ä»¬æ€è€ƒå¯¹è±¡çš„ç‰¹æ€§æ—¶ï¼Œâ€œåµŒå¥—â€å¹¶ä¸æ˜¯ä¸€ä¸ªéå¸¸å‡†ç¡®çš„æ–¹å¼ã€‚å½“è¿™æ®µä»£ç è¿è¡Œçš„æ—¶å€™ï¼Œä¸å­˜åœ¨â€œåµŒå¥—â€çš„å¯¹è±¡ã€‚ä½ å®é™…ä¸Šçœ‹åˆ°çš„æ˜¯ä¸¤ä¸ªä¸åŒçš„å¯¹è±¡ï¼š

```jsx
let obj1 = {title: 'Blue Nana', 
			city: 'Hamburg', 
			 image: 'https://i.imgur.com/Sd1AgUOm.jpg',};
			 let obj2 = { 
			  name: 'Niki de Saint Phalle',  
			  artwork: obj1};
```

å¯¹è±¡ `obj1` å¹¶ä¸å¤„äº `obj2` çš„â€œå†…éƒ¨â€ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„ä»£ç ä¸­ï¼Œ`obj3` ä¸­çš„å±æ€§ä¹Ÿå¯ä»¥æŒ‡å‘ `obj1`ï¼š

```jsx
let obj1 = { 
title: 'Blue Nana', 
city: 'Hamburg',
image: 'https://i.imgur.com/Sd1AgUOm.jpg',};
let obj2 = { 
name: 'Niki de Saint Phalle', 
artwork: obj1};
let obj3 = {  
name: 'Copycat', 
artwork: obj1};
```

å¦‚æœä½ ç›´æ¥ä¿®æ”¹ `obj3.artwork.city`ï¼Œå°±ä¼šåŒæ—¶å½±å“ `obj2.artwork.city` å’Œ `obj1.city`ã€‚è¿™æ˜¯å› ä¸º `obj3.artwork`ã€`obj2.artwork` å’Œ `obj1` éƒ½æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ã€‚å½“ä½ ç”¨â€œåµŒå¥—â€çš„æ–¹å¼çœ‹å¾…å¯¹è±¡æ—¶ï¼Œå¾ˆéš¾çœ‹å‡ºè¿™ä¸€ç‚¹ã€‚ç›¸åï¼Œå®ƒä»¬æ˜¯ç›¸äº’ç‹¬ç«‹çš„å¯¹è±¡ï¼Œåªä¸è¿‡æ˜¯ç”¨å±æ€§â€œæŒ‡å‘â€å½¼æ­¤è€Œå·²ã€‚
### ä½¿ç”¨ Immer ç¼–å†™ç®€æ´çš„æ›´æ–°é€»è¾‘Â [](https://zh-hans.react.dev/learn/updating-objects-in-state#write-concise-update-logic-with-immer "Link for ä½¿ç”¨ Immer ç¼–å†™ç®€æ´çš„æ›´æ–°é€»è¾‘")

### æ›´æ–° state ä¸­çš„æ•°ç»„
- ä½ å¯ä»¥æŠŠæ•°ç»„æ”¾å…¥ state ä¸­ï¼Œä½†ä½ ä¸åº”è¯¥ç›´æ¥ä¿®æ”¹å®ƒã€‚ä¸è¦ç›´æ¥ä¿®æ”¹æ•°ç»„ï¼Œè€Œæ˜¯åˆ›å»ºå®ƒçš„ä¸€ä»½Â **æ–°çš„**Â æ‹·è´ï¼Œç„¶åä½¿ç”¨æ–°çš„æ•°ç»„æ¥æ›´æ–°å®ƒçš„çŠ¶æ€ã€‚
![[Pasted image 20240629135858.png]]
### é™·é˜±
ä¸å¹¸çš„æ˜¯ï¼Œè™½ç„¶ [`slice`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/slice) å’Œ [`splice`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/splice) çš„åå­—ç›¸ä¼¼ï¼Œä½†ä½œç”¨å´è¿¥ç„¶ä¸åŒï¼š

- `slice`Â è®©ä½ å¯ä»¥æ‹·è´æ•°ç»„æˆ–æ˜¯æ•°ç»„çš„ä¸€éƒ¨åˆ†ã€‚
- `splice`Â **ä¼šç›´æ¥ä¿®æ”¹**Â åŸå§‹æ•°ç»„ï¼ˆæ’å…¥æˆ–è€…åˆ é™¤å…ƒç´ ï¼‰ã€‚

åœ¨ React ä¸­ï¼Œæ›´å¤šæƒ…å†µä¸‹ä½ ä¼šä½¿ç”¨ `slice`ï¼ˆæ²¡æœ‰ `p` ï¼ï¼‰ï¼Œå› ä¸ºä½ ä¸æƒ³æ”¹å˜ state ä¸­çš„å¯¹è±¡æˆ–æ•°ç»„ã€‚[æ›´æ–°å¯¹è±¡](https://zh-hans.react.dev/learn/updating-objects-in-state)è¿™ä¸€ç« èŠ‚è§£é‡Šäº†ä»€ä¹ˆæ˜¯ mutationï¼Œä»¥åŠä¸ºä»€ä¹ˆä¸æ¨èåœ¨ state é‡Œè¿™æ ·åšã€‚

- ä½ å¯ä»¥ä½¿ç”¨Â `[...arr, newItem]`Â è¿™æ ·çš„æ•°ç»„å±•å¼€è¯­æ³•æ¥å‘æ•°ç»„ä¸­æ·»åŠ å…ƒç´ ã€‚
- ä½ å¯ä»¥ä½¿ç”¨Â `filter()`Â å’ŒÂ `map()`Â æ¥åˆ›å»ºä¸€ä¸ªç»è¿‡è¿‡æ»¤æˆ–è€…å˜æ¢çš„æ•°ç»„ã€‚
- ä½ å¯ä»¥ä½¿ç”¨ Immer æ¥ä¿æŒä»£ç ç®€æ´ã€‚

```jsx
æ·»åŠ å…ƒç´ ï¼š
setArr(//æ›¿æ¢state
[//æ˜¯é€šè¿‡ä¼ å…¥ä¸€ä¸ªæ–°æ•°ç»„å®ç°çš„
   ...arrs,//åŸæ¥æ•°ç»„æ‰€æœ‰å…ƒç´ 
   {idï¼šnextId++,name:name}]//æœ«å°¾æ·»åŠ æ–°å…ƒç´ 
);
ç¤ºä¾‹ï¼š
setArtists([  
{ id: nextId++, name: name },  
...artists // å°†åŸæ•°ç»„ä¸­çš„å…ƒç´ æ”¾åœ¨æœ«å°¾  

]);
åˆ é™¤å…ƒç´ ï¼š
setArtists(
   artists.filter(a=>a.id!==artist.id)
   //è¿™é‡Œï¼Œ`artists.filter(s => s.id !== artist.id)` è¡¨ç¤ºâ€œåˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œè¯¥æ•°ç»„ç”±é‚£äº› ID ä¸ `artists.id` ä¸åŒçš„ `artists` ç»„æˆâ€ã€‚æ¢å¥è¯è¯´ï¼Œæ¯ä¸ª artist çš„â€œåˆ é™¤â€æŒ‰é’®ä¼šæŠŠ _é‚£ä¸€ä¸ª_ artist ä»åŸå§‹æ•°ç»„ä¸­è¿‡æ»¤æ‰ï¼Œå¹¶ä½¿ç”¨è¿‡æ»¤åçš„æ•°ç»„å†æ¬¡è¿›è¡Œæ¸²æŸ“ã€‚æ³¨æ„ï¼Œ`filter` å¹¶ä¸ä¼šæ”¹å˜åŸå§‹æ•°ç»„ã€‚
);

è½¬æ¢æ•°ç»„ï¼š
ç”¨mapåˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼š
åŸå§‹æ•°ç»„ï¼š
const[shapes,setShapes]=useState(
  initialShapes
);
mapåˆ›å»ºæ–°æ•°ç»„ï¼š
const nextShapes =shapes.map(shape=>{
    if(shape.type==='square'){
      //ä¸åšæ”¹å˜
      return shapeï¼›
     }else{
        return {
        ...shape,
        y:shape.y+50,
        };
     }
});
setShapes(nextShapes);//ä½¿ç”¨æ–°æ•°ç»„é‡æ–°æ¸²æŸ“

æ›¿æ¢æ•°ç»„ä¸­çš„å…ƒç´ ï¼šè¦æ›¿æ¢ä¸€ä¸ªå…ƒç´ ï¼Œè¯·ä½¿ç”¨ `map` åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ã€‚åœ¨ä½ çš„ `map` å›è°ƒé‡Œï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å…ƒç´ çš„ç´¢å¼•ã€‚ä½¿ç”¨ç´¢å¼•æ¥åˆ¤æ–­æœ€ç»ˆæ˜¯è¿”å›åŸå§‹çš„å…ƒç´ ï¼ˆå³å›è°ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼‰è¿˜æ˜¯æ›¿æ¢æˆå…¶ä»–å€¼ï¼š
function handleIncrementClick(index) {
    const nextCounters = counters.map((c, i) => {
      if (i === index) {
        // é€’å¢è¢«ç‚¹å‡»çš„è®¡æ•°å™¨æ•°å€¼
        return c + 1;
      } else {
        // å…¶ä½™éƒ¨åˆ†ä¸å‘ç”Ÿå˜åŒ–
        return c;
      }
    });
    setCounters(nextCounters);
  }
  æ’å…¥å…ƒç´ ï¼š
  function handleClick() {
    const insertAt = 1; // å¯èƒ½æ˜¯ä»»ä½•ç´¢å¼•
    const nextArtists = [
      // æ’å…¥ç‚¹ä¹‹å‰çš„å…ƒç´ ï¼š
      ...artists.slice(0, insertAt),
      // æ–°çš„å…ƒç´ ï¼š
      { id: nextId++, name: name },
      // æ’å…¥ç‚¹ä¹‹åçš„å…ƒç´ ï¼š
      ...artists.slice(insertAt)
    ];
    setArtists(nextArtists);
    setName('');
  }
  åè½¬æ•°ç»„å’Œæ•°ç»„æ’åºéœ€è¦å…ˆæ‹·è´ä¸€éæ•°ç»„åœ¨æ–°æ•°ç»„ä¸Šæ›´æ–°çŠ¶æ€ï¼Œä¸èƒ½ç›´æ¥æ”¹å˜åŸæ•°ç»„
   function handleClick() {
    const nextList = [...list];
    nextList.reverse();
    setList(nextList);
  }
  
```
æ­¤å¤„çš„ `...` æ˜¯ä¸€ä¸ªå¯¹è±¡å±•å¼€è¯­æ³•ï¼Œè¢«ç”¨æ¥[åˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„æ‹·è´](https://zh-hans.react.dev/learn/updating-objects-in-state#copying-objects-with-the-spread-syntax).
### ä½¿ç”¨ Immer ç¼–å†™ç®€æ´çš„æ›´æ–°é€»è¾‘Â [](https://zh-hans.react.dev/learn/updating-arrays-in-state#write-concise-update-logic-with-immer "Link for ä½¿ç”¨ Immer ç¼–å†™ç®€æ´çš„æ›´æ–°é€»è¾‘")
åœ¨æ²¡æœ‰ mutation çš„å‰æä¸‹æ›´æ–°åµŒå¥—æ•°ç»„å¯èƒ½ä¼šå˜å¾—æœ‰ç‚¹é‡å¤ã€‚[å°±åƒå¯¹å¯¹è±¡ä¸€æ ·](https://zh-hans.react.dev/learn/updating-objects-in-state#write-concise-update-logic-with-immer):

- é€šå¸¸æƒ…å†µä¸‹ï¼Œä½ åº”è¯¥ä¸éœ€è¦æ›´æ–°å¤„äºéå¸¸æ·±å±‚çº§çš„ state ã€‚å¦‚æœä½ æœ‰æ­¤ç±»éœ€æ±‚ï¼Œä½ æˆ–è®¸éœ€è¦[è°ƒæ•´ä¸€ä¸‹æ•°æ®çš„ç»“æ„](https://zh-hans.react.dev/learn/choosing-the-state-structure#avoid-deeply-nested-state)ï¼Œè®©æ•°æ®å˜å¾—æ‰å¹³ä¸€äº›ã€‚
- å¦‚æœä½ ä¸æƒ³æ”¹å˜ state çš„æ•°æ®ç»“æ„ï¼Œä½ ä¹Ÿè®¸ä¼šæ›´å–œæ¬¢ä½¿ç”¨Â [Immer](https://github.com/immerjs/use-immer)Â ï¼Œå®ƒè®©ä½ å¯ä»¥ç»§ç»­ä½¿ç”¨æ–¹ä¾¿çš„ï¼Œä½†ä¼šç›´æ¥ä¿®æ”¹åŸå€¼çš„è¯­æ³•ï¼Œå¹¶è´Ÿè´£ä¸ºä½ ç”Ÿæˆæ‹·è´å€¼ã€‚
ä¸‹é¢æ˜¯æˆ‘ä»¬ç”¨ Immer æ¥é‡å†™çš„è‰ºæœ¯æ„¿æœ›æ¸…å•çš„ä¾‹å­ï¼š
```jsx
import{useState}from'react';
import { useImmer } from 'use-immer';

let nextId = 3;
const initialList = [
  { id: 0, title: 'Big Bellies', seen: false },
  { id: 1, title: 'Lunar Landscape', seen: false },
  { id: 2, title: 'Terracotta Army', seen: true },
];
export default function BucketList() {
  const [myList, updateMyList] = useImmer(
    initialList
  );
  const [yourList, updateYourList] = useImmer(
    initialList
  );
  function handleToggleMyList(id, nextSeen) {
    updateMyList(draft => {
      const artwork = draft.find(a =>
        a.id === id
      );
      artwork.seen = nextSeen;
    });
  }
  function handleToggleYourList(artworkId,nextSeen){
     updateYourList(draft=>{
        const artwork=draft.find(a=>a.id===artworkId);
        artwork.seen=nextSeen;});
        }
 return (
    <>
      <h1>è‰ºæœ¯æ„¿æœ›æ¸…å•</h1>
      <h2>æˆ‘æƒ³çœ‹çš„è‰ºæœ¯æ¸…å•ï¼š</h2>
      <ItemList
        artworks={myList}
        onToggle={handleToggleMyList} />
      <h2>ä½ æƒ³çœ‹çš„è‰ºæœ¯æ¸…å•ï¼š</h2>
      <ItemList
        artworks={yourList}
        onToggle={handleToggleYourList} />
    </>
  );
}

function ItemList({ artworks, onToggle }) {
  return (
    <ul>
      {artworks.map(artwork => (
        <li key={artwork.id}>
          <label>
            <input
              type="checkbox"
              checked={artwork.seen}
              onChange={e => {
                onToggle(
                  artwork.id,
                  e.target.checked
                );
              }}
            />
            {artwork.title}
          </label>
        </li>
      ))}
    </ul>
  );
}
```
## å°è¯•ä¸€äº›æŒ‘æˆ˜[](https://zh-hans.react.dev/learn/updating-arrays-in-state#challenges "Link for å°è¯•ä¸€äº›æŒ‘æˆ˜")
ç¤ºä¾‹ï¼ˆæ•°ç»„å¢åˆ æ”¹æŸ¥è¡¨ï¼‰ï¼š
```jsx
import { useState } from 'react';
import AddTodo from './AddTodo.js';
import TaskList from './TaskList.js';

let nextId = 3;
const initialTodos = [
  { id: 0, title: 'Buy milk', done: true },
  { id: 1, title: 'Eat tacos', done: false },
  { id: 2, title: 'Brew tea', done: false },
];

export default function TaskApp() {
  const [todos, setTodos] = useState(
    initialTodos
  );

  function handleAddTodo(title) {
    setTodos([
      ...todos,
      {
        id: nextId++,
        title: title,
        done: false
      }
    ]);
  }

  function handleChangeTodo(nextTodo) {
    setTodos(todos.map(t => {
      if (t.id === nextTodo.id) {
        return nextTodo;
      } else {
        return t;
      }
    }));
  }

  function handleDeleteTodo(todoId) {
    setTodos(
      todos.filter(t => t.id !== todoId)
    );
  }

  return (
    <>
      <AddTodo
        onAddTodo={handleAddTodo}
      />
      <TaskList
        todos={todos}
        onChangeTodo={handleChangeTodo}
        onDeleteTodo={handleDeleteTodo}
      />
    </>
  );
}
Immerå½¢å¼
import { useState } from 'react';
import { useImmer } from 'use-immer';
import AddTodo from './AddTodo.js';
import TaskList from './TaskList.js';

let nextId = 3;
const initialTodos = [
  { id: 0, title: 'Buy milk', done: true },
  { id: 1, title: 'Eat tacos', done: false },
  { id: 2, title: 'Brew tea', done: false },
];

export default function TaskApp() {
  const [todos, setTodos] = useState(
    initialTodos
  );

  function handleAddTodo(title) {
    todos.push({
      id: nextId++,
      title: title,
      done: false
    });
  }

  function handleChangeTodo(nextTodo) {
    const todo = todos.find(t =>
      t.id === nextTodo.id
    );
    todo.title = nextTodo.title;
    todo.done = nextTodo.done;
  }

  function handleDeleteTodo(todoId) {
    const index = todos.findIndex(t =>
      t.id === todoId
    );
    todos.splice(index, 1);
  }

  return (
    <>
      <AddTodo
        onAddTodo={handleAddTodo}
      />
      <TaskList
        todos={todos}
        onChangeTodo={handleChangeTodo}
        onDeleteTodo={handleDeleteTodo}
      />
    </>
  );
}

```


VitePress æä¾›äº†å†…ç½®çš„ Markdown æ‰©å±•åŠŸèƒ½ï¼Œä¸ºäº†è¿›ä¸€æ­¥ä¼˜åŒ–å†™ä½œå’Œå±•ç¤ºä½“éªŒï¼Œæˆ‘ä»¬åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ä¹Ÿå°è£…äº†ä¸€äº›é€šç”¨ç»„ä»¶ã€‚è¿™ç¯‡æ–‡ç« å°†è¯¦ç»†ä»‹ç» VitePress çš„å¸¸è§æ‰©å±•è¯­æ³•ä»¥åŠæœ¬é¡¹ç›®ä¸­çš„è‡ªå®šä¹‰ç»„ä»¶ã€‚

## æ‹“å±•è¯­æ³•

### è‡ªå®šä¹‰å®¹å™¨

è‡ªå®šä¹‰å®¹å™¨æ˜¯ä¸€ä¸ªç‰¹åˆ«çš„å…ƒç´ ï¼Œå®ƒå…·æœ‰åŠ ç²—çš„æ ‡é¢˜å’Œé«˜äº®çš„èƒŒæ™¯ã€‚æ­¤å¤–ï¼Œå®ƒå†…éƒ¨è¿˜æ”¯æŒæ ‡å‡†çš„ Markdown è¯­æ³•ã€‚

**è¾“å…¥ï¼š**

```md
::: info ã€ä½ å¯ä»¥è‡ªå®šä¹‰æ ‡é¢˜åç§°ã€‘
This is an info box.
:::

::: tip
This is a tip.
:::

::: warning
This is a warning.
:::

::: danger
This is a dangerous warning.
:::

::: details
This is a details block.
:::
```

**è¾“å‡ºï¼š**
::: info ã€ä½ å¯ä»¥è‡ªå®šä¹‰æ ‡é¢˜åç§°ã€‘
This is an info box.
:::

::: tip
This is a tip.
:::

::: warning
This is a warning.
:::

::: danger
This is a dangerous warning.
:::

::: details
This is a details block.
:::

### ä»£ç å—

å…³äºä»£ç å—çš„æ›´å¤šè¯¦ç»†æè¿°å’Œç¤ºä¾‹ï¼Œè¯·å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚è¿™é‡Œåªç»™å‡ºç®€å•çš„ä½¿ç”¨ç¤ºä¾‹ã€‚

<LinkCard desc="MarkDown Extensions | VitePress" link="https://vitepress.dev/guide/markdown#line-highlighting-in-code-blocks"/>

#### æ™®é€šä»£ç å—

**è¾“å…¥ï¼š**

````md
```js
const str = "hello world";
console.log(str);
```
````

**è¾“å‡ºï¼š**

```js
const str = "hello world";
console.log(str);
```

#### é«˜äº®æ˜¾ç¤ºæŸäº›è¡Œ

**è¾“å…¥ï¼š**

::: code-group

````md [æ™®é€š]
```js{1,4,6-8}
export default { // Highlighted
  data () {
    return {
      msg: `Highlighted!
      This line isn't highlighted,
      but this and the next 2 are.`,
      motd: 'VitePress is awesome',
      lorem: 'ipsum'
    }
  }
}
```
````

````md [å…¶ä»–é¢œè‰²]
```js
export default {
  data () {
    return {
    // code ä¹‹ååªéœ€è¦ä¸€ä¸ªç©ºæ ¼ï¼Œæ­¤å¤„ä¸ºäº†æ¼”ç¤ºæ–¹ä¾¿
        msg: 'Removed' // [!code  --]
        msg: 'Added'   // [!code  ++]

        msg: 'Error',  // [!code  error]
        msg: 'Warning' // [!code  warning]
    }
  }
}
```
````

:::

**è¾“å‡ºï¼š**

::: code-group

```js{1,4,6-8} [æ™®é€š]
export default { // Highlighted
  data () {
    return {
      msg: `é«˜äº®çŠ¶æ€!
      è¿™ä¸€è¡Œå¹¶æ²¡æœ‰è¢«é«˜äº®,
      ä½†æ˜¯ä»¥ä¸‹ä¸¤è¡Œå¤„äºé«˜äº®çŠ¶æ€`,
      motd: 'VitePress is awesome',
      lorem: 'ipsum'
    }
  }
}
```

```js [å…¶ä»–é¢œè‰²]
export default {
  data () {
    return {
        // code ä¹‹ååªéœ€è¦ä¸€ä¸ªç©ºæ ¼ï¼Œæ­¤å¤„ä¸ºäº†æ¼”ç¤ºæ–¹ä¾¿
        msg: 'Removed' // [!code --]
        msg: 'Added' // [!code ++]

        msg: 'Error', // [!code error]
        msg: 'Warning' // [!code warning]
    }
  }
}
```

:::

#### æ˜¾ç¤ºè¡Œå·

**è¾“å…¥ï¼š**

````md
```js:line-numbers
const str = "hello world";
console.log(str);
```
````

**è¾“å‡ºï¼š**

```js:line-numbers
const str = "hello world";
console.log(str);
```

#### ä»£ç ç»„

**è¾“å…¥ï¼š**

````md
::: code-group

```js [config.js]
/**
 * @type {import('vitepress').UserConfig}
 */
const config = {
  // ...
};

export default config;
```

```ts [config.ts]
import type { UserConfig } from "vitepress";

const config: UserConfig = {
  // ...
};

export default config;
```

ä½ è¿˜å¯ä»¥åœ¨ code-group ä¸­ä»æ–‡ä»¶å¯¼å…¥ä»£ç ï¼Œä¾‹å¦‚

<<< ./code-group.example.js

:::
````

**è¾“å‡ºï¼š**

:::code-group

```js [config.js]
/**
 * @type {import('vitepress').UserConfig}
 */
const config = {
  // ...
};

export default config;
```

```ts [config.ts]
import type { UserConfig } from "vitepress";

const config: UserConfig = {
  // ...
};

export default config;
```

<<< ./code-group.example.js
:::

## é€šç”¨ç»„ä»¶

åœ¨ Markdown æ–‡ä»¶ä¸­ï¼Œä½ å¯ä»¥ç›´æ¥ä½¿ç”¨ HTML è¯­æ³•æ¥è°ƒç”¨æˆ‘ä»¬çš„é€šç”¨ç»„ä»¶ã€‚

### é“¾æ¥å¡ç‰‡

**è¾“å…¥ï¼š**

```html
<!-- åœ¨ desc ä¸­è¾“å…¥ç½‘ç«™æè¿° link ä¸­è¾“å…¥ç½‘ç«™é“¾æ¥ -->
<!-- ã€åˆ«å¿˜è®°é—­åˆæ ‡ç­¾ï¼ï¼ï¼ã€‘ -->
<LinkCard desc="zbwer's Blog" link="https://blog.zbwer.work/" />
```

**è¾“å‡ºï¼š**

<LinkCard desc="zbwer's Blog" link="https://blog.zbwer.work/" />

### é«˜äº®æ–‡æœ¬

è¯¥ç»„ä»¶ä¼šè®¾ç½®æ–‡æœ¬é¢œè‰²ä¸èƒŒæ™¯è‰²ï¼Œå†…ç½®äº†å››ç§é¢œè‰²ã€‚ä½ å¯ä»¥é€šè¿‡ `type` å±æ€§è¿›è¡ŒæŒ‡å®šï¼Œå¦‚æœè¯¥å±æ€§æ²¡æœ‰è¢«è®¾ç½®ï¼Œé‚£ä¹ˆå°†åœ¨å†…ç½®é¢œè‰²ä¸­è¿›è¡Œ**éšæœº**é€‰æ‹©ã€‚

å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå·±æŒ‡å®šæ–‡æœ¬é¢œè‰²(`color`)ä¸èƒŒæ™¯è‰²(`bg`)ã€‚

**è¾“å…¥ï¼š**

```html
<HText type="true">å—¨ Hi ä½ å¥½é¸­ï¼</HText>
<HText type="false">å—¨ Hi ä½ å¥½é¸­ï¼</HText>
<HText type="warn">å—¨ Hi ä½ å¥½é¸­ï¼</HText>
<HText type="info">å—¨ Hi ä½ å¥½é¸­ï¼</HText>
<HText color="#fff" bg="#5672cd">å—¨ Hi ä½ å¥½é¸­ï¼</HText>
```

**è¾“å‡ºï¼š**

<HText type="true">å—¨ Hi ä½ å¥½é¸­ï¼</HText>
<HText type="false">å—¨ Hi ä½ å¥½é¸­ï¼</HText>
<HText type="warn">å—¨ Hi ä½ å¥½é¸­ï¼</HText>
<HText type="info">å—¨ Hi ä½ å¥½é¸­ï¼</HText>
<HText color="#fff" bg="#5672cd">å—¨ Hi ä½ å¥½é¸­ï¼</HText>

## æ•°å­¦å…¬å¼

### è¡Œå†…å…¬å¼

**è¾“å…¥ï¼š**

```md
è¿™æ˜¯ä¸€ä¸ªè¡Œå†…å…¬å¼: $\frac{1}{a+b}$
```

**è¾“å‡ºï¼š**

è¿™æ˜¯ä¸€ä¸ªè¡Œå†…å…¬å¼: $\frac{1}{a+b}$

### å…¬å¼å—

**è¾“å…¥ï¼š**

```md
$$ \Sigma^i a_i=0 $$
```

**è¾“å‡ºï¼š**
$$ \Sigma^i_N a_i=0 $$
